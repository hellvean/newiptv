<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="page-view-size" content="1280*720" />
<link rel="stylesheet" href="css/reset.css" />
<title></title>
<style>
.content{
	width: 1280px;
	height: 720px;
	position: relative;
	background-position: center;
	background-repeat: no-repeat;
	background-size: 100% 100%;
	background-color: #333;
}
.lession-head{
	height: 80px;
	padding-top: 40px;
	width: 1120px;
	margin: 0 auto;
	position: relative;
}
.lession-title{
	font-size:40px;
	font-weight:bold;
	color:rgba(255,255,255,1);
	line-height: 42px;
	margin-bottom: 8px;
}
.lession-tips > div{
	font-size:18px;
	font-weight:400;
	color:rgba(204,204,204,1);
	line-height: 30px;
	padding-left: 25px;
	margin-right: 30px;
}
.lession-tips .star{
	padding-left: 0;
}
.star-num{
	background: url(images/classify/star.png) no-repeat center;
	width: 22px;
	height: 20px;
	background-size: 100% 100%;
	margin-left: 5px;
	margin-top: 2px;
}
.xiaohao{
	background: url(images/lessiondetail/power.png) no-repeat 0 center;
}
.nandu{
	background: url(images/lessiondetail/lel.png) no-repeat 0 center;
}
.renshu{
	background: url(images/lessiondetail/people.png) no-repeat 0 center;
}
.collect{
	position: absolute;
	top: 40px;
	right: 0;
}
.lession-info{
	font-size:22px;
	line-height: 36px;
	color: #fff;
	width: 1120px;
	margin: 25px auto;
	height: 72px;
	overflow: hidden;
}
.diversity{
	width: 1120px;
	margin: 0 auto;
}
.diversity-num a{
	font-size:18px;
	font-weight:bold;
	color:rgba(204,204,204,1);
	margin-right: 20px;
}
.diversity-num .active{
	font-size:28px;
}
.diversity-wrap{
	margin-top: 15px;
}
.diversity-item{
	position: relative;
	width: 200px;
	height: 80px;
	text-align: center;
}
.diversity-title{
	position: absolute;
	width: 100%;
	height: 80px;
	line-height: 80px;
	font-size:22px;
	font-weight:400;
	color:rgba(230,230,230,1);
	z-index: 99;
	overflow: hidden;
}
.diversity-item .active{
	color: #333;
}
.diversity-img{
	position: absolute;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;
}
.diversity-vip{
	position: absolute;
	top: -15px;
	left: -10px;
}
.like{
	width: 1140px;
	padding: 28px 60px 30px 80px;
	position: absolute;
	bottom: 0;
}
.like-title{
	width:150px;
	height:40px;
	font-size:32px;
	font-weight:bold;
	color:rgba(255,255,255,1);
	background: url(images/siredingzhidetail/action.png) no-repeat 0 center;
	padding-left: 40px;
	margin: 30px 0;
}
.like-list{
	font-size: 0;
}
.like-item{
	width: 208px;
	height: 190px;
	position: relative;
}
.like-item img{
	width: 208px;
	height: 156px;
	position: absolute;
	top: 0;
	left: 0;
}
.like-item-title{
	color: #fff;
	font-size: 18px;
	position: absolute;
	width: 100%;
	text-align: center;
	bottom: 0;
	overflow: hidden;
}
.like-item .zoom-out{
	width: 224px;
	height: 174px;
	left: -9px;
	top: -9px;
}
</style>
</head>
<body>
<a href="javascript:;" id="click" style="display: none;"></a>
<div class="content">
	<script type="text/html" id="content">
		<div class="lession-head">
			<div class="lession-title">{{data.lessonName}}</div>
			<div class="clean lession-tips">
				<div class="left star">推荐指数 
					{{each star value2 j}}
						<span class="star-num"></span>
					{{/each}}
				</div>
				<div class="left xiaohao">能量消耗：{{data.caloriesc}}卡</div>
				{{if data.difficult == 1}}
					<div class="left nandu">课程难度：初级</div>
				{{else if data.difficult == 2}}
					<div class="left nandu">课程难度：中级</div>
				{{else}}
					<div class="left nandu">课程难度：高级</div>
				{{/if}}
				<div class="left renshu">{{data.participateNum}}人训练过</div>
			</div>
			{{if !iscollectid}}
				<a href="javascript:;" class="collect" data-iscollectid="{{iscollectid}}">
					<img src="images/lessiondetail/collect.png" />
				</a>
			{{else}}
				<a href="javascript:;" class="collect" data-iscollectid="{{iscollectid}}">
					<img src="images/lessiondetail/hascollect.png" />
				</a>
			{{/if}}
		</div>
		<div class="lession-info">{{data.description}}</div>
		<div class="diversity">
			<div class="diversity-num">
				{{each fenji value i}}
					{{if i == 0}}
						<a href="javascript:;" class="active" data-num="{{i}}">1~5</a>
					{{else}}
						<a href="javascript:;" data-num="{{i}}">{{i*5+1}}~{{i*5+5}}</a>
					{{/if}}
				{{/each}}
			</div>
			{{each fenji value i}}
				{{if i == 0}}
				<div class="diversity-wrap">
				{{else}}
				<div class="diversity-wrap" style="display: none;">
				{{/if}}
					{{each fenji[i] value2 i}}
						<a href="javascript:;" class="diversity-item" data-isvip="{{value2.isVip}}" style="margin-right: 15px;" data-index="{{i}}" data-code="{{value2.videoUrl}}" data-playurl="{{value2.videoTs}}">
							<div class="diversity-title">{{value2.videoName}}</div>
							<img class="diversity-img" src="images/lessiondetail/diversity.png" />
							{{if value2.isVip == 1}}
								<img class="diversity-vip" src="images/lessiondetail/vip.png" />
							{{/if}}
						</a>
					{{/each}}
				</div>
			{{/each}}
		</div>
		<div class="like">
			<div class="like-title">猜您喜欢</div>
			<div class="like-list">
				{{each likelist value i}}
					{{if i == 0}}
					<a href="javascript:;" class="like-item" data-index="{{i}}" data-lessonid="{{value.id}}">
					{{else}}
					<a href="javascript:;" class="like-item" style="margin-left: 20px;" data-lessonid="{{value.id}}">
					{{/if}}
						<img src="{{value.lessonBanner2}}" />
						<div class="like-item-title">{{value.lessonName}}</div>
					</a>
				{{/each}}
			</div>
		</div>
	</script>
</div>
<!-- <div class="childlock" style="position: absolute;width: 1280px;height: 720px;top: 0;left: 0;z-index: 99;display: none;">
	<img src="images/lessiondetail/childlock.png" style="position: absolute;width: 1280px;height: 720px;top: 0;left: 0;">
	<a href="javascript:;" class="finshOk" style="position: absolute;top: 475px;right: 300px;">
		<img src="images/play/ok.png" />
	</a>
</div> -->
<!-- <div style="display: none;">
	<form id="formAct" action="http://10.253.255.42:14521/childLock/jumpLockStat" method="post">
		<input name="result" value="" class="result"/>
		<input name="userId" value="" class="userId"/>
		<input name="productId" value="" class="productId"/>
		<input name="backUrl" value="" class="backUrl"/>
	</form>
</div> -->
<script src="js/jquery-1.8.0.js"></script>
<script src="js/template-web.js"></script>
<script src="js/tool.js"></script>
<!-- <script src="js/sdk.config.js"></script>
<script src="js/sdk.1.8.4.min.js?v=1.0"></script> -->
<script src="js/sdk.config1.8.3.js"></script>
<script src="js/sdk.1.8.3.min.js"></script>
<script>
	
tool.setLog(tool.getCookie("masterId"),"课程详情",window.location.href);
var IP = tool.getIP();

var focusArea = 1; // 1表示焦点在收藏按钮上 2表示焦点在分集tab上 3表示焦点在分集内容上 4表示焦点在猜你喜欢上
var currentFenji = 0; //当前焦点所在分集 记录用户选择分集的状态

//内容分集逻辑
function fenji(diversitylist){
	var fenjiArray = [];
	var fenjizu = Math.ceil(diversitylist.length / 5); //分集组数
	for(i=0;i<fenjizu;i++){
		fenjiArray.push([]);
	}
	//每组分集中的节目信息
	for (i=0;i<fenjiArray.length;i++) {
		for(j=0;j<5;j++){
			if(diversitylist[j+i*5]){
				fenjiArray[i].push(diversitylist[j+i*5]);
			}
		}
	};
	return fenjiArray;
}

//推荐星级转化成循环数组
function toStar(starnum){
	var star = [];
	for(var i=0;i<starnum;i++){
		star.push(i);
	};
	return star;
}

var ossUserId = tool.getCookie("ossUserId");
//tool.alertLog(ossUserId);
var lessonid = tool.getParam("lessonid");
//var lessonid = "19bcf5d1eb8c4815c7bf40b2a7fbbe14";
var type = tool.getParam("type");

var iscollectid;
$.ajax({
	url: IP+"tvCollection/checkCollection?lessonId="+lessonid+"&ossUserId="+ossUserId,
	type: "get",
	async: false,
	success: function(data){
		if(data.code == 0){
			iscollectid = data.result.id;
		}
	},
	error: function(error){
		
	}
});

//点击触发数据初始化事件
document.getElementById("click").onclick = function(res,res2,res3,iscollectid){
	 init(res,res2,res3,iscollectid);
}

$.ajax({
	url: IP+"adminLesson/queryById?id="+lessonid,
	type: "get",
	success: function(res){
		console.log(JSON.stringify(res));
		$(".content").css("background-image","url("+res.result.lessonBanner4+")");
		//分集
		$.ajax({
			url: IP+"adminVideo/list?fromLessonId="+lessonid,
			type: "get",
			success: function(res2){
				console.log(JSON.stringify(res2));
				//猜你喜欢
				$.ajax({
					url: IP+"adminLesson/guessLike?id="+lessonid+"&fromTypeId="+type,
					type: "get",
					success: function(res3){
						console.log(JSON.stringify(res3));
						document.getElementById("click").onclick(res,res2,res3,iscollectid);
						
					},
					error: function(error){
						console.log(JSON.stringify(error));
					}
				})
			},
			error: function(error){
				console.log(JSON.stringify(error));
			}
		})
	},
	error: function(error){
		console.log(JSON.stringify(error));
	}
})

function init(res,res2,res3,iscollectid){
	
	document.getElementsByClassName("content")[0].innerHTML = template('content', {
		data: res.result,
		iscollectid: iscollectid,
		star: toStar(res.result.star),
		fenji: fenji(res2.result.records),
		likelist: res3.result
	});
	
	//收藏
	$(".collect").focus(function(){
		if(!$(this).attr("data-iscollectid")){
			$(this).find("img").attr("src","images/lessiondetail/collect-focus.png");
		}else{
			$(this).find("img").attr("src","images/lessiondetail/hascollect-focus.png");
		}
		focusArea = 1;
	}).blur(function(){
		if(!$(this).attr("data-iscollectid")){
			$(this).find("img").attr("src","images/lessiondetail/collect.png");
		}else{
			$(this).find("img").attr("src","images/lessiondetail/hascollect.png");
		}
	});
	
	$(".collect").click(function(){
		//点击收藏和取消收藏 走分支
		
		if(!$(this).attr("data-iscollectid")){
			//点击收藏
			$.ajax({
				url: IP+"tvCollection/add",
				type: "post",
				contentType:"application/json; charset=utf-8",
				data: JSON.stringify({
					lessonId: lessonid,
					ossUserId: ossUserId
				}),
				success: function(res){
					console.log(JSON.stringify(res));
					if(res.code == 0){
						$(".collect").attr("data-iscollectid",res.result.id);
						$(".collect").find("img").attr("src","images/lessiondetail/hascollect.png");
					}
				},
				error: function(error){
					
				}
			})
		}else{
			//点击取消
			$.ajax({
				url: IP+"tvCollection/delete?id="+$(this).attr("data-iscollectid"),
				type: "get",
				success: function(res){
					console.log(JSON.stringify(res));
					if(res.code == 0){
						$(".collect").attr("data-iscollectid","");
						$(".collect").find("img").attr("src","images/lessiondetail/collect.png");
					}
				},
				error: function(error){
					
				}
			})
		}
		
	});
	
	$(".diversity-num a").focus(function(){
		$(this).siblings().removeClass("active");
		$(this).siblings().css("color","#fff");
		$(this).css("color","#FDA60F");
		if(focusArea != 2){
			//从上下区域移动焦点到分集上
			$(this).blur();
			setTimeout(function(){
				$(".diversity-num a").eq(currentFenji).addClass("active").focus();
				
			},20);
			focusArea = 2;
		}else{
			if(!$(this).hasClass("active")){
				$(this).addClass("active");
				focusArea = 2;
				//切换分集
				$(".diversity-wrap").hide();
				$(".diversity-wrap").eq($(this).attr("data-num")).show();
				currentFenji = $(this).attr("data-num");
			}
		}
	})
	
	$(".diversity-item").focus(function(){
		focusArea = 3;
		$(this).find(".diversity-img").attr("src","images/lessiondetail/chosen.png");
		$(this).find(".diversity-title").addClass("active");
	}).blur(function(){
		$(this).find(".diversity-img").attr("src","images/lessiondetail/diversity.png");
		$(this).find(".diversity-title").removeClass("active");
	});
	
	//var videocode = "07000001000000010018001800000000";
	$(".diversity-item").click(function(){
		tool.setCookie("currentFenji_lessiondetail",currentFenji);
		tool.setCookie("fenjiindex_lessiondetail",$(this).attr("data-index"));
		tool.setCookie("focusClass_lessiondetail","diversity-item");
		if (tool.isSTBType(['Q21_hnylt'])) {
			var code = $(this).attr("data-playurl");
		} else {
			var code = $(this).attr("data-code");
		}
		console.log(code)
		//鉴权播放   1---判断儿童锁 2---- 鉴权
		
		/* 订购产品 */
		function orderProduct(productId,customerId,contentId,contentName,price,redirectUrl,failUrl,productIdThird) {
		    var boxId = "";
		    var productId = productId;
			var customerId = customerId;
			//var customerId = "test0322";
		    //var customerId = Authentication.CTCGetConfig("UserID");
		    var contentId = contentId;
		    var contentName = contentName;
		    var price = price;
		    var redirectUrl = redirectUrl;
		    var failUrl = failUrl;
		    var broadbandid = customerId;
		    var param2 = "";
		    var param3 = "";
		    var param4 = productIdThird;
		    var param5 = "";
		    var userCode = "";
		    var productIdThird = productIdThird;
		    var platform = "";
		    var payVersion = "8004";
		    var payChannelId = "30239";
		    var payAppId = "117951805";
		    var payAppName = "河南沃家游戏";
		    var payUA = "OTHERTVSTORE_HENANTV";
			//tool.alertLog(productIdThird+"----"+productId);
			//console.log(productId, customerId, contentId, contentName, price, redirectUrl, failUrl);
		    sdk.doOrderProduct(boxId, productId, customerId, contentId, contentName, price, redirectUrl, failUrl, broadbandid, param2, param3, param4, param5, userCode, productIdThird, platform, payVersion, payChannelId, payAppId, payAppName, payUA, function (resultCode, resultMsg) {
		            console.log("resultCode:" + resultCode + ";resultMsg:" + resultMsg);
		            //tool.alertLog("resultCode:" + resultCode + ";resultMsg:" + resultMsg)
		        }
		    );
		}
		/* 鉴权	*/
		function getProducts() {
		    var contentId = "2476005600";
			//var contentId = "productIDa1000000000000000000009";
			//var customerId = "tj-tvzx1";
			var customerId = Authentication.CTCGetConfig("UserID");
			var productIds = new Array();
			productIds[0] = "1110000234";
			//productIds[0] = "1110000000";
			//productIds[1] = "1000000059";
			var userCode = "";
			var productIdThirds = null;
		    sdk.doGetProducts(contentId, customerId, productIds, userCode, productIdThirds, function (resultCode, resultMsg) {
		        //console.log(resultCode,JSON.parse(resultMsg).list);
				//获取订购产品相关参数
				var list = JSON.parse(resultMsg).list ? JSON.parse(resultMsg).list[0] : [];
				//tool.alertLog("resultCode:" + resultCode + ";resultMsg:" + resultMsg);
				//orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,window.location.href,"http://10.253.255.149:5124/tv/index.html");
				if(resultCode == 1){
					
					if(list.status == 0 || list.status == 2){
						//未订购
						if(tool.getParam("backtype") == "personal"){
							//从个人中心跳转过来
							tool.setCookie("backurl","lessonpersonal");
							tool.setCookie("id",lessonid);
							tool.setCookie("type",type);
							orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,"http://10.253.255.149:5124/tv/paysuccess.html","http://10.253.255.149:5124/tv/payfail.html",list.productIdThird);
						}else{
							tool.setCookie("backurl","lesson");
							tool.setCookie("id",lessonid);
							tool.setCookie("type",type);
							orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,"http://10.253.255.149:5124/tv/paysuccess.html","http://10.253.255.149:5124/tv/payfail.html",list.productIdThird);
						}
					}else{
						//已订购
						//tool.alertLog(code);
						
						if (tool.isSTBType(['Q21_hnylt'])) {
							window.location.href = "play.html?playUrl="+code+"&isUserpaln=0&lessonid="+lessonid;
						} else {
							window.location.href = "video.html?code="+code+"&isUserpaln=0&lessonid="+lessonid;
						}
					}
					
					// sdk.doListUserOrders(customerId, function (resultCode2, resultMsg2) {
					// 	if(resultCode2 == 1){
					// 		var orderList = JSON.parse(resultMsg2).list ? JSON.parse(resultMsg2).list : [];
					// 		var canPay = true;
					// 		for(var i=0;i<orderList.length;i++){
					// 			if(orderList[i].contentName == list.productName){
					// 				canPay = false;
					// 				break;
					// 			}
					// 		};
					// 		if(canPay){
					// 			if(tool.getParam("backtype") == "personal"){
					// 				//从个人中心跳转过来
					// 				tool.setCookie("backurl","lessonpersonal");
					// 				tool.setCookie("id",lessonid);
					// 				tool.setCookie("type",type);
					// 				orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,"http://10.253.255.149:5124/tv/paysuccess.html","http://10.253.255.149:5124/tv/payfail.html",list.productIdThird);
					// 			}else{
					// 				tool.setCookie("backurl","lesson");
					// 				tool.setCookie("id",lessonid);
					// 				tool.setCookie("type",type);
					// 				orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,"http://10.253.255.149:5124/tv/paysuccess.html","http://10.253.255.149:5124/tv/payfail.html",list.productIdThird);
					// 			}
					// 			//orderProduct(list.productId,customerId,list.contentId,list.productName,list.productPrice,"http://10.253.255.149:5124/tv/paysuccess.html","http://10.253.255.149:5124/tv/payfail.html");
					// 		}else{
					// 			if (tool.isSTBType(['Q21_hnylt'])) {
					// 				window.location.href = "play.html?playUrl="+code+"&isUserpaln=0&lessonid="+lessonid;
					// 			} else {
					// 				window.location.href = "video.html?code="+code+"&isUserpaln=0&lessonid="+lessonid;
					// 			}
					// 		}
					// 	}
					// });
				}
		    });
		};
		if($(this).attr("data-isvip") == "1"){
			getProducts();
			//这里判断童锁
			//有儿童锁弹窗
			// $.ajax({
			// 	type:"get",
			// 	url:"http://10.253.255.42:14521/childLock/validate/"+Authentication.CTCGetConfig("UserID")+"/1110000000",
			// 	data:{
			// 		userId: Authentication.CTCGetConfig("UserID"),
			// 		productId: "1110000000"
			// 	},
			// 	success:function(res){
			// 		if(res == true){
			// 			// $(".childlock").show(function(){
			// 			// 	$(".finshOk").focus();
			// 			// });
						
			// 			$('.userId').val(Authentication.CTCGetConfig("UserID"));
			// 			$('.productId').val("1110000000");
			// 			$('.backUrl').val(encodeURI(window.location.href));
			// 			$('.result').val(res);
						
			// 			$('#formAct').submit();
						
			// 		}else{
			// 			getProducts();
			// 		}
			// 	}
			// });
		}else{
			if (tool.isSTBType(['Q21_hnylt'])) {
				window.location.href = "play.html?playUrl="+code+"&isUserpaln=0&lessonid="+lessonid;
			} else {
				window.location.href = "video.html?code="+code+"&isUserpaln=0&lessonid="+lessonid;
			}
		}
		// $.ajax({
		// 	url: "http://10.253.255.42:14521/childLock/validate/123/12323",
		// 	type: "get",
		// 	success: function(res){
				
		// 	},
		// 	error: function(error){
				
		// 	}
		// })
		
		//播放页
		//window.location.href = "video.html?code="+$(this).attr("data-code")+"&isUserpaln=0&lessonid="+lessonid;
		
	});
	// $(".finshOk").click(function(){
	// 	$(".childlock").hide(function(){
	// 		$(".diversity-wrap:eq("+currentFenji+") .diversity-item:first").focus();
	// 	});
	// });
	
	
	$(".like-item").focus(function(){
		focusArea = 4;
		$(this).find("img").addClass("zoom-out");
	}).blur(function(){
		$(this).find("img").removeClass("zoom-out");
	})
	
	$(".like-item").click(function(){
		if(tool.getParam("backtype") && tool.getParam("backtype") != "null"){
			window.location.href = "lessiondetail.html?lessonid="+$(this).attr("data-lessonid")+"&type="+type+"&backtype="+tool.getParam("backtype");
		}else{
			window.location.href = "lessiondetail.html?lessonid="+$(this).attr("data-lessonid")+"&type="+type;
		}
	});
	
	if(tool.getCookie("focusClass_lessiondetail") == "diversity-item"){
		$(".diversity-wrap").hide();
		$(".diversity-wrap").eq(tool.getCookie("currentFenji_lessiondetail")).show();
		currentFenji = tool.getCookie("currentFenji_lessiondetail");
		$(".diversity-num a").removeClass("active");
		$(".diversity-num a").eq(tool.getCookie("currentFenji_lessiondetail")).addClass("active");
		console.log(tool.getCookie("fenjiindex_lessiondetail"))
		$(".diversity-wrap:eq("+currentFenji+") .diversity-item").eq(tool.getCookie("fenjiindex_lessiondetail")).focus();
	}else{
		$(".diversity-item:first").focus();
	}
	
	$("#click").remove();
	
}


//光标上下事件
function up(){
	if(focusArea == 3){
		$(".diversity-num a").eq(currentFenji).focus();
	}
	// console.log(focusArea,currentFenji);
	// if(focusArea == 1){
		
	// }else if(focusArea == 2){
		
	// }else if(focusArea == 3){
	// 	$(".diversity-num a").eq(currentFenji).focus();
	// }else if(focusArea == 4){
	// 	//$(".diversity-wrap:eq("+currentFenji+") .diversity-item:first").focus();
	// }
}

function down(){
	if(focusArea == 1){
		$(".diversity-wrap:eq("+currentFenji+") .diversity-item:first").focus();
	}
}

//返回事件
function back(){
	//重置一部分Cookie
	tool.setCookie("currentFenji_lessiondetail","");
	tool.setCookie("fenjiindex_lessiondetail","");
	tool.setCookie("focusClass_lessiondetail","");
	
	tool.setCookie("backurl","");
	tool.setCookie("id","");
	tool.setCookie("type","");
	if(tool.getParam("backtype") == "lessonpersonal"){
		window.location.href = "collect.html";
	}else if(tool.getParam("backtype") == "lesson"){
		if(tool.getParam("type") && tool.getParam("type") != "null"){
			
			if(parseInt(tool.getParam("type")) <= 5){
				//精品课程
				window.location.href = "excellentcourse.html";
			}else{
				//美体瑜伽
				window.location.href = "yoga.html";
			}
		}else{
			window.location.href = "index.html";
		}
	}else if(tool.getParam("backtype") == "personal"){
		window.location.href = "collect.html";
	}else{
		if(tool.getParam("type") && tool.getParam("type") != "null"){
			
			if(parseInt(tool.getParam("type")) <= 5){
				//精品课程
				window.location.href = "excellentcourse.html";
			}else{
				//美体瑜伽
				window.location.href = "yoga.html";
			}
		}else{
			window.location.href = "index.html";
		}
	}
}
	
//遥控器事件
function eventHandler(obj){
	if(obj.code == "KEY_BACK"){
		//点击返回
		back();
 	}else if(obj.code == "KEY_UP"){
		up();
	}else if(obj.code == "KEY_DOWN"){
		down();
	}
}
</script>
</body>
</html>
